<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="controllers.UserProfileController"
           stylesheets="/css/user-profile.css"
           prefWidth="600" prefHeight="400">

    <HBox spacing="0">
        <!-- ðŸ”¹ Sidebar laterale -->
        <VBox spacing="20" styleClass="sidebar" alignment="TOP_CENTER" prefWidth="150" style="-fx-background-color: #2c3e50; -fx-padding: 20;">
            <Button text="Indietro" fx:id="backb" styleClass="sidebar-button"/>
            <!--<Button text="Assistenza"  styleClass="sidebar-button"/>-->
            <Button text="Logout" fx:id="logOutButton" styleClass="sidebar-button"/>
        </VBox>

        <VBox spacing="10">
            <HBox>
                <GridPane hgap="10" vgap="10">
                    <!-- Intestazione -->
                    <HBox spacing="20" alignment="CENTER_LEFT"  GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <Label text="Profilo Utente" styleClass="header-label"/>
                        <Region HBox.hgrow="ALWAYS"/>
                    </HBox>

                    <!-- Contenuto centrale -->
                    <GridPane hgap="15" vgap="15"  GridPane.columnIndex="1" GridPane.rowIndex="5">
                        <!-- Immagine profilo -->
                        <ImageView fx:id="profileImage" fitWidth="120" fitHeight="120" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.rowSpan="4"/>

                        <Label text="Nome:" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        <Label fx:id="nomeLabel" GridPane.columnIndex="2" GridPane.rowIndex="0"/>

                        <Label text="Cognome:" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        <Label fx:id="cognomeLabel" GridPane.columnIndex="2" GridPane.rowIndex="1"/>

                        <Label text="Email:" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        <Label fx:id="emailLabel" GridPane.columnIndex="2" GridPane.rowIndex="2"/>

                        <Label text="Telefono:" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                        <Label fx:id="telefonoLabel" GridPane.columnIndex="2" GridPane.rowIndex="3"/>

                        <Button text="Cambio immagine" onAction="#newImg" GridPane.columnIndex="0" GridPane.rowIndex="4"/>

                        <Label text="Tipo utente:" GridPane.columnIndex="1" GridPane.rowIndex="4"/>
                        <Label fx:id="tipoUtenteLabel" GridPane.columnIndex="2" GridPane.rowIndex="4"/>

                        <Label text="Info utente:" GridPane.columnIndex="1" GridPane.rowIndex="5"/>
                        <Label fx:id="infoLabel" GridPane.columnIndex="2" GridPane.rowIndex="5"/>

                        <Button text="Nuova Password" fx:id="newPassB" GridPane.columnIndex="4" GridPane.rowIndex="0" onAction="#newPassword"/>
                    </GridPane>

                    <GridPane hgap="15" vgap="15" fx:id="infoN" GridPane.columnIndex="1" GridPane.rowIndex="10">
                        <!-- Immagine profilo -->

                        <Label text="Nome:" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        <TextField fx:id="nomeLabelN" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Cognome:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="cognomeLabelN" GridPane.columnIndex="2" GridPane.rowIndex="1"/>

                        <Label text="Email:" GridPane.columnIndex="3" GridPane.rowIndex="0"/>
                        <TextField fx:id="emailLabelN" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                        <Label text="Telefono:" GridPane.columnIndex="4" GridPane.rowIndex="0"/>
                        <TextField fx:id="telefonoLabelN" GridPane.columnIndex="4" GridPane.rowIndex="1"/>

                        <Button text="Salva" onAction="#saveNewInfo" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                        <Button text="Annulla" onAction="#annulla" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                    </GridPane>

                    <GridPane hgap="15" vgap="15" fx:id="newPass" GridPane.columnIndex="1" GridPane.rowIndex="10">
                        <Label text="Richiedi una nuova password, l'admin prenderÃ  in carico la tua richiesta ." GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <Label text="Seleziona il motivo del cambio password :" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="tipoRichiesta" promptText="Seleziona un'opzione" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Password dimenticata"/>
                                    <String fx:value="Cambio password"/>
                                </FXCollections>
                            </items>
                        </ComboBox>

                        <Label text="Altro :" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextArea fx:id="commentoArea"
                                  promptText="Inserisci un commento..."
                                  prefRowCount="3"
                                  wrapText="true"
                                  GridPane.columnIndex="0" GridPane.rowIndex="4"/>

                        <Button text="Invio" onAction="#invioRichiesta" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                        <Button text="Annulla" onAction="#annullaP" GridPane.columnIndex="1" GridPane.rowIndex="6"/>
                    </GridPane>

                    <!-- Footer -->
                    <HBox spacing="10" alignment="CENTER_RIGHT"  GridPane.columnIndex="1" GridPane.rowIndex="13" >
                        <Button text="Modifica Profilo" fx:id="editProf" onAction="#handleEdit"/>
                    </HBox>
                </GridPane>
            </HBox>

            <Region prefHeight="50" style="-fx-background-color: transparent;"/>
            <fx:include source="footer.fxml"/>

        </VBox>
    </HBox>
</StackPane>
